# Priority 2 ‚Äî Verify End-to-End Gameplay Flows

Once Priority 1 is complete the application is navigable. This priority verifies each game mechanic plays through correctly via the full client ‚Üí server ‚Üí engine ‚Üí client cycle. Each task is a manual verification step or a targeted automated test. Bugs found during verification should be fixed before moving to the next step.

**Prerequisite:** Priority 1 complete. Two browser tabs open on the game page after starting a game.

---

## Step 4 ‚Äî Core Turn Flow

Verify the basic turn cycle works end-to-end.

| Task      | Description                                                                                      | Test                                                                                                                                                             | Spec                                                                                                                                                          |
| --------- | ------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| P2.S4.T1  | Verify Roll Dice triggers dice animation and token movement.                                     | Player 1 clicks "Roll Dice" ‚Üí dice values animate to the result ‚Üí the token moves along the board path to the correct new space.                                 | [P3A.S1.T1](Phase3A.md#step-3a1--dice-rolling-flow), [P3A.S1.T3](Phase3A.md#step-3a1--dice-rolling-flow), [P3A.S1.T4](Phase3A.md#step-3a1--dice-rolling-flow) |
| P2.S4.T2  | Verify the Roll Dice button disables after rolling and re-enables only on a doubles extra turn.  | After rolling non-doubles: Roll Dice button is disabled for the rest of the turn. After rolling doubles: Roll Dice re-enables after the token lands.             | [P3A.S1.T8](Phase3A.md#step-3a1--dice-rolling-flow)                                                                                                           |
| P2.S4.T3  | Verify doubles notification appears and same player can roll again.                              | Roll doubles ‚Üí a "Doubles! Roll again" notification appears ‚Üí the same player's Roll Dice button re-enables.                                                     | [P3A.S1.T6](Phase3A.md#step-3a1--dice-rolling-flow)                                                                                                           |
| P2.S4.T4  | Verify three-consecutive-doubles sends player directly to Jail.                                  | Engineer three-doubles in a row (use a custom dice seed in tests) ‚Üí player is sent to Jail (position 10) with "Go to Jail!" notification; cash is not increased. | [P3A.S1.T7](Phase3A.md#step-3a1--dice-rolling-flow), [P1A.S3.T7](Phase1A.md#step-1a3--dice--movement)                                                         |
| P2.S4.T5  | Verify landing on Income Tax ($200) and Luxury Tax ($100) deduct the correct amount.             | Land on position 4 ‚Üí cash decreases by $200. Land on position 38 ‚Üí cash decreases by $100. Toast notification visible.                                           | [P3A.S2.T6](Phase3A.md#step-3a2--space-landing-resolution-ui)                                                                                                 |
| P2.S4.T6  | Verify passing Go awards $200 and shows a notification.                                          | Player at position 38 rolls a value that crosses position 0 ‚Üí cash increases by $200; "Salary collected" toast appears.                                          | [P3A.S2.T8](Phase3A.md#step-3a2--space-landing-resolution-ui)                                                                                                 |
| P2.S4.T7  | Verify landing on "Go To Jail" (position 30) sends the player to Jail without $200.              | Land on position 30 ‚Üí token moves to position 10; cash unchanged; jail status shows in dashboard.                                                                | [P3A.S2.T7](Phase3A.md#step-3a2--space-landing-resolution-ui)                                                                                                 |
| P2.S4.T8  | Verify landing on own property produces no modal and no cash change.                             | Player lands on a property they already own ‚Üí no buy modal appears; cash unchanged; brief "Your property" indicator visible.                                     | [P3A.S2.T9](Phase3A.md#step-3a2--space-landing-resolution-ui)                                                                                                 |
| P2.S4.T9  | Verify End Turn advances to the next player and the active player highlight transfers.           | Player 1 clicks "End Turn" ‚Üí Player 2's name is highlighted as active; Player 2's Roll Dice button is enabled; Player 1's is disabled.                           | [P3A.S5.T3](Phase3A.md#step-3a5--turn-flow-ui)                                                                                                                |
| P2.S4.T10 | Verify "Your Turn!" notification appears for the local player when the turn transitions to them. | Player 2's tab shows a "Your Turn!" banner when Player 1 clicks End Turn.                                                                                        | [P3A.S5.T4](Phase3A.md#step-3a5--turn-flow-ui)                                                                                                                |
| P2.S4.T11 | Verify the Activity Feed receives turn events in real time.                                      | Roll dice ‚Üí "Player 1 rolled 7 (4+3)" appears in the activity feed. End Turn ‚Üí appropriate event appears.                                                        | [P3A.S5.T7](Phase3A.md#step-3a5--turn-flow-ui)                                                                                                                |

---

## Step 5 ‚Äî Card Draw Flow

Verify Chance and Community Chest card draws and all effect types.

| Task      | Description                                                                                                | Test                                                                                                                                                                | Spec                                                                                               |
| --------- | ---------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| P2.S5.T1  | Verify landing on a Chance or Community Chest space triggers the card draw modal.                          | Land on position 7 (Chance) ‚Üí card draw modal appears with card text and "OK" button.                                                                               | [P3A.S3.T1](Phase3A.md#step-3a3--card-draw-flow), [P3A.S3.T2](Phase3A.md#step-3a3--card-draw-flow) |
| P2.S5.T2  | Verify cash-gain card: "Bank pays you" increases player cash.                                              | Draw a cash-gain Chance card ‚Üí player cash increases by the card's amount with animation; Activity Feed shows the event.                                            | [P3A.S3.T3](Phase3A.md#step-3a3--card-draw-flow)                                                   |
| P2.S5.T3  | Verify cash-loss card: "Pay hospital fees" decreases player cash.                                          | Draw a cash-loss Community Chest card ‚Üí player cash decreases; fee amount shown in the modal.                                                                       | [P3A.S3.T3](Phase3A.md#step-3a3--card-draw-flow)                                                   |
| P2.S5.T4  | Verify movement card: "Advance to Go" moves token and awards $200.                                         | Draw "Advance to Go" from any position ‚Üí token moves to position 0; cash increases by $200.                                                                         | [P3A.S3.T4](Phase3A.md#step-3a3--card-draw-flow)                                                   |
| P2.S5.T5  | Verify "Go to Jail" card sends player to position 10 with no $200.                                         | Draw "Go directly to Jail" ‚Üí token moves to position 10; cash unchanged; jail status updates.                                                                       | [P3A.S3.T5](Phase3A.md#step-3a3--card-draw-flow)                                                   |
| P2.S5.T6  | Verify Get Out of Jail Free card is added to the player's held cards display.                              | Draw a GOOJF card ‚Üí it appears in the player's held cards section in the dashboard.                                                                                 | [P3A.S3.T6](Phase3A.md#step-3a3--card-draw-flow)                                                   |
| P2.S5.T7  | Verify "Collect $X from each player" card charges all opponents.                                           | Draw "Birthday: collect $10 from each player" in a 3-player game ‚Üí drawer gains $20; the two others each lose $10; all cash displays update.                        | [P3A.S3.T7](Phase3A.md#step-3a3--card-draw-flow)                                                   |
| P2.S5.T8  | Verify Chance repairs card: "$25/house, $100/hotel" at correct rates.                                      | Player has 3 houses and 1 hotel; draws Chance "General Repairs" ‚Üí pays $175 ($75 + $100).                                                                           | [P3A.S3.T8](Phase3A.md#step-3a3--card-draw-flow), [P1A.S5.T12](Phase1A.md#step-1a5--card-system)   |
| P2.S5.T9  | Verify Community Chest repairs card: "$40/house, $115/hotel" at correct rates (different from Chance).     | Player has 3 houses and 1 hotel; draws CC "Street Repairs" ‚Üí pays $235 ($120 + $115).                                                                               | [P3A.S3.T8a](Phase3A.md#step-3a3--card-draw-flow), [P1A.S5.T12a](Phase1A.md#step-1a5--card-system) |
| P2.S5.T10 | Verify "Advance to nearest Railroad, pay double rent" moves to nearest railroad and doubles rent if owned. | From Chance position 7, draw this card; nearest railroad is position 15 (Pennsylvania RR); if owned by opponent with 2 railroads, normal rent $50 ‚Üí card rent $100. | [P3A.S3.T9](Phase3A.md#step-3a3--card-draw-flow), [P1A.S5.T13b](Phase1A.md#step-1a5--card-system)  |
| P2.S5.T11 | Verify "Advance to nearest Utility, pay 10√ó dice" moves to nearest utility and charges 10√ó dice.           | From Chance position 7, draw this card; nearest utility is position 12 (Electric Company); if owned, re-roll dice ‚Üí pay 10√ó that roll.                              | [P3A.S3.T10](Phase3A.md#step-3a3--card-draw-flow), [P1A.S5.T14b](Phase1A.md#step-1a5--card-system) |

---

## Step 6 ‚Äî Jail Flow

Verify all three methods of exiting jail.

| Task     | Description                                                                                               | Test                                                                                                                                         | Spec                                            |
| -------- | --------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------- |
| P2.S6.T1 | Verify jail status indicator shows "In Jail (Turn X/3)" on the dashboard.                                 | Player is sent to jail ‚Üí dashboard shows jail status with turn counter "In Jail (Turn 1/3)".                                                 | [P3A.S4.T1](Phase3A.md#step-3a4--jail-ui--flow) |
| P2.S6.T2 | Verify the jailed player's token is positioned inside the jail cell area (not the "Just Visiting" strip). | Jailed player's token renders in the inner jail cell, visually distinct from visiting tokens.                                                | [P3A.S4.T2](Phase3A.md#step-3a4--jail-ui--flow) |
| P2.S6.T3 | Verify three jail action buttons appear instead of "Roll Dice" when in jail.                              | Jailed player's turn ‚Üí three buttons rendered: "Pay $50", "Use Card" (only if holding GOOJF), "Roll for Doubles".                            | [P3A.S4.T3](Phase3A.md#step-3a4--jail-ui--flow) |
| P2.S6.T4 | Verify "Pay $50" frees the player and allows a normal roll that turn.                                     | Click "Pay $50" ‚Üí cash decreases by $50; jail status clears; "Roll Dice" button appears; player can roll and move normally.                  | [P3A.S4.T4](Phase3A.md#step-3a4--jail-ui--flow) |
| P2.S6.T5 | Verify "Use GOOJF Card" frees the player, removes the card, and enables rolling.                          | Player holds a GOOJF card; clicks "Use Card" ‚Üí card disappears from held cards; jail clears; normal roll proceeds.                           | [P3A.S4.T5](Phase3A.md#step-3a4--jail-ui--flow) |
| P2.S6.T6 | Verify "Roll for Doubles" exits jail on doubles, stays in jail on non-doubles with counter increment.     | Roll non-doubles ‚Üí player stays at position 10; turn counter increments to "Turn 2/3". Roll doubles ‚Üí player exits and moves the dice total. | [P3A.S4.T6](Phase3A.md#step-3a4--jail-ui--flow) |
| P2.S6.T7 | Verify forced exit on the 3rd failed roll: $50 auto-deducted and player moves.                            | After two failed rolls, roll non-doubles a third time ‚Üí "$50 paid, you're free" notification appears; player moves the dice total.           | [P3A.S4.T7](Phase3A.md#step-3a4--jail-ui--flow) |

---

## Step 7 ‚Äî Property Economy Flow

Verify buying, auctioning, rent, building, mortgaging, and trading.

| Task      | Description                                                                                  | Test                                                                                                                                                                          | Spec                                                                                                                              |
| --------- | -------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| P2.S7.T1  | Verify landing on unowned property shows buy modal with correct price and player's cash.     | Land on Mediterranean Ave ($60) ‚Üí modal shows the property card, price $60, and player's current cash.                                                                        | [P3B.S1.T1](Phase3B.md#step-3b1--property-purchase--auction-ui)                                                                   |
| P2.S7.T2  | Verify "Buy" in the modal transfers ownership and deducts cash.                              | Click "Buy" ‚Üí Mediterranean Ave shows the player's ownership marker on the board; player cash decreases by $60.                                                               | [P3B.S1.T2](Phase3B.md#step-3b1--property-purchase--auction-ui)                                                                   |
| P2.S7.T3  | Verify "Decline" starts an auction that includes the declining player as an eligible bidder. | Click "Decline" ‚Üí Auction Panel appears for all players including the decliner; the decliner can place bids.                                                                  | [P3B.S1.T3](Phase3B.md#step-3b1--property-purchase--auction-ui), [P3B.S1.T3a](Phase3B.md#step-3b1--property-purchase--auction-ui) |
| P2.S7.T4  | Verify auction bid/pass flow resolves correctly.                                             | In a 2-player auction, Player A bids $50, Player B passes ‚Üí "Player A wins the auction for $50!" ‚Üí ownership updates, $50 deducted.                                           | [P3B.S1.T6](Phase3B.md#step-3b1--property-purchase--auction-ui), [P3B.S1.T9](Phase3B.md#step-3b1--property-purchase--auction-ui)  |
| P2.S7.T5  | Verify landing on an opponent's property shows rent payment notification to both players.    | Land on opponent's property ‚Üí payer sees "Pay $X to PlayerY"; owner sees "Received $X from PlayerZ"; both cash displays update.                                               | [P3B.S2.T2](Phase3B.md#step-3b2--rent-collection-ui), [P3B.S2.T3](Phase3B.md#step-3b2--rent-collection-ui)                        |
| P2.S7.T6  | Verify monopoly rent is doubled (no houses).                                                 | Player A owns both Baltic and Mediterranean. Player B lands on Baltic ‚Üí rent is $8 (double the base $4).                                                                      | [P3B.S2.T1](Phase3B.md#step-3b2--rent-collection-ui), [P1A.S4.T4](Phase1A.md#step-1a4--space-resolution-engine)                   |
| P2.S7.T7  | Verify building houses requires a monopoly and respects the even-build rule.                 | Open Build panel with a monopoly ‚Üí can build on both properties. Build one house on Baltic ‚Üí Add House on Baltic is disabled until Mediterranean also has one.                | [P3B.S3.T2](Phase3B.md#step-3b3--building-management-ui), [P3B.S3.T3](Phase3B.md#step-3b3--building-management-ui)                |
| P2.S7.T8  | Verify building a house increases rent and shows the house sprite on the board.              | Build 1 house on Baltic ‚Üí board shows a house on Baltic's space; rent on Baltic is now $20.                                                                                   | [P3B.S3.T4](Phase3B.md#step-3b3--building-management-ui)                                                                          |
| P2.S7.T9  | Verify mortgaging a property dims it on the board and gives the correct cash.                | Mortgage Baltic (mortgage value $30) ‚Üí Baltic appears dimmed/greyed on the board; player cash increases by $30.                                                               | [P3B.S4.T3](Phase3B.md#step-3b4--mortgage-management-ui)                                                                          |
| P2.S7.T10 | Verify unmortgaging a property costs face value + 10% interest.                              | Unmortgage Baltic (mortgage $30, interest $3) ‚Üí player pays $33; Baltic is restored on the board.                                                                             | [P3B.S4.T6](Phase3B.md#step-3b4--mortgage-management-ui)                                                                          |
| P2.S7.T11 | Verify proposing a trade to another player shows the incoming trade modal on their screen.   | Player A opens the trade builder, selects a property in "You Offer", sends to Player B ‚Üí Player B's screen shows the incoming trade modal with Accept/Reject/Counter buttons. | [P3B.S5.T7](Phase3B.md#step-3b5--trading-ui), [P3B.S5.T8](Phase3B.md#step-3b5--trading-ui)                                        |
| P2.S7.T12 | Verify accepting a trade swaps properties and cash for both players and updates the board.   | Player B clicks "Accept" ‚Üí properties change owners; cash transfers; Activity Feed shows "Player A traded with Player B".                                                     | [P3B.S5.T9](Phase3B.md#step-3b5--trading-ui), [P3B.S5.T12](Phase3B.md#step-3b5--trading-ui)                                       |

---

## Step 8 ‚Äî Endgame Flow

Verify bankruptcy, elimination, and the victory screen.

| Task     | Description                                                                                      | Test                                                                                                                                                                    | Spec                                                                                                   |
| -------- | ------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |
| P2.S8.T1 | Verify the debt warning modal appears when a player cannot pay and offers liquidation options.   | Manually set a player's cash below a rent amount (or use a test helper); land on the property ‚Üí "You owe $X but only have $Y" modal appears with sell/mortgage options. | [P4.S1.T1](Phase4.md#step-41--bankruptcy-flow)                                                         |
| P2.S8.T2 | Verify the "Declare Bankruptcy" button appears only when full liquidation cannot cover the debt. | In the debt modal, sell all buildings and mortgage all properties so the shortfall remains ‚Üí "Declare Bankruptcy" button becomes visible.                               | [P4.S1.T5](Phase4.md#step-41--bankruptcy-flow)                                                         |
| P2.S8.T3 | Verify bankruptcy to a player transfers all assets to the creditor.                              | Declare bankruptcy to a player ‚Üí creditor receives all properties and remaining cash; bankrupt player's token fades from the board; player name shows "Bankrupt".       | [P4.S1.T6](Phase4.md#step-41--bankruptcy-flow), [P4.S1.T8](Phase4.md#step-41--bankruptcy-flow)         |
| P2.S8.T4 | Verify bankruptcy in a 2-player game immediately triggers the victory screen.                    | 2-player game: one player goes bankrupt ‚Üí victory screen overlays the board for both players.                                                                           | [P4.S2.T1](Phase4.md#step-42--endgame--victory), [P1A.S9.T7](Phase1A.md#step-1a9--bankruptcy--endgame) |
| P2.S8.T5 | Verify the Victory Screen shows the winner's name, token, and final standings table.             | Victory screen visible ‚Üí winner's name and token icon displayed prominently; all players listed in finishing order.                                                     | [P4.S2.T2](Phase4.md#step-42--endgame--victory), [P4.S2.T3](Phase4.md#step-42--endgame--victory)       |
| P2.S8.T6 | Verify eliminated players enter spectator mode (see board, no action buttons).                   | After going bankrupt, the player's tab shows the board and player info but the action bar is replaced with "You are spectating".                                        | [P4.S3.T2](Phase4.md#step-43--spectator-mode-eliminated-players)                                       |

---

## Step 9 ‚Äî Social Features

Verify activity feed, chat, and sound toggle.

| Task     | Description                                                                                      | Test                                                                                                                                                | Spec                                                                                                                     |
| -------- | ------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| P2.S9.T1 | Verify the Activity Feed shows human-readable event descriptions with icons.                     | Roll dice ‚Üí feed shows "üé≤ Player 1 rolled 7 (4+3)". Buy property ‚Üí "üè† Player 1 bought Baltic Avenue for $60".                                     | [P4.S4.T1](Phase4.md#step-44--activity-feed--notifications), [P4.S4.T2](Phase4.md#step-44--activity-feed--notifications) |
| P2.S9.T2 | Verify the "My Events" filter shows only events involving the local player.                      | Toggle "My Events" filter ‚Üí events from other players' turns disappear; only events where the local player is the actor, payer, or receiver remain. | [P4.S4.T7](Phase4.md#step-44--activity-feed--notifications)                                                              |
| P2.S9.T3 | Verify chat messages sent by one player appear in all players' chat panels including spectators. | Player 1 sends "Hello" ‚Üí message appears in Player 2's chat; a spectating bankrupt player also sees it.                                             | [P4.S5.T3](Phase4.md#step-45--in-game-chat), [P4.S5.T6](Phase4.md#step-45--in-game-chat)                                 |
| P2.S9.T4 | Verify the sound toggle mutes and unmutes game sounds.                                           | Click the sound icon ‚Üí sounds stop playing on subsequent events. Click again ‚Üí sounds resume. The muted state persists within the session.          | [P4.S4.T6](Phase4.md#step-44--activity-feed--notifications)                                                              |
